{% extends "base.html" %}

{% block content %}
<h2>{{ doc.title }}</h2>
<p><strong>Авторы:</strong> {{ doc.authors or 'неизвестны' }}</p>
<p><strong>Год:</strong> {{ doc.year or '—' }}</p>
<p><strong>Категория:</strong> {{ doc.category or '—' }}</p>
<p><strong>Загружен:</strong> {{ doc.created_at }}</p>

<div class="pdf-viewer">
    <iframe 
        src="{{ url_for('static', filename='pdfjs/web/viewer.html') }}?file={{ url_for('uploaded_file', filename=doc.file_path.split('/')[-1]) }}" 
        width="100%" 
        height="600px">
    </iframe>
</div>

<div class="actions">
    <button class="delete-btn"
            hx-delete="{{ url_for('delete_document', doc_id=doc.id) }}"
            hx-confirm="Вы уверены, что хотите удалить этот документ?"
            hx-target="body"
            hx-indicator="#spinner">
        Удалить документ
    </button>
    <a href="{{ url_for('index') }}" class="button">Назад к поиску</a>
</div>
{% endblock %}
